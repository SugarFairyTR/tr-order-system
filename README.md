# 🚀 티알코리아 주문시스템 PWA

영업사원용 모바일 친화적 웹 애플리케이션으로, 주문 정보를 실시간으로 `MOBILE_LOG.json` 파일에 저장합니다.

## 🎯 **주요 기능**

### 📱 **모바일 최적화**
- PWA(Progressive Web App) 기술 적용
- 모바일 기기에서 앱처럼 설치 가능
- 오프라인 캐싱 지원
- 터치 친화적 UI/UX

### 📝 **주문 관리**
- **주문 입력**: 담당자별 판매처/도착지 자동 연결
- **주문 목록**: 담당자/날짜별 필터링
- **주문 수정**: 본인 주문만 수정 가능
- **주문 삭제**: 실시간 삭제 및 백업

### 💾 **데이터 저장**
- 실제 `MOBILE_LOG.json` 파일에 저장
- 자동 백업 시스템 (최근 10개 백업 유지)
- 모든 사용자가 동일한 데이터 공유
- 데이터 무결성 보장

### 📊 **통계 및 관리**
- 담당자별/날짜별 주문 통계
- 데이터 내보내기 기능
- 기본 담당자 설정

## 🛠️ **설치 및 실행**

### **1단계: 필수 요구사항**
```bash
Python 3.7 이상 설치 필요
```

### **2단계: 앱 실행**
```cmd
# web_app 폴더에서 배치 파일 실행
START_APP.bat
```

또는 수동 실행:
```cmd
cd web_app
python start_server.py
```

### **3단계: 브라우저 접속**
- **로컬 접속**: http://localhost:8000
- **모바일 접속**: http://[내부IP]:8000
- 서버 실행 시 자동으로 표시되는 주소 사용

### **4단계: PWA 설치 (모바일)**
1. 브라우저에서 웹앱 열기
2. 주소창 옆 "설치" 버튼 클릭
3. 홈 화면에 앱 아이콘 추가됨

## 📂 **파일 구조**

```
web_app/
├── 📄 index.html          # 메인 HTML
├── 🎨 styles.css          # CSS 스타일
├── ⚙️ app.js              # JavaScript 앱
├── 🔧 start_server.py     # 웹 서버 + API
├── 📁 file_handler.py     # 파일 처리 로직
├── 📱 manifest.json       # PWA 매니페스트
├── 🔄 sw.js               # Service Worker
├── 🖼️ icon-192.png        # PWA 아이콘
├── 🖼️ icon-512.png        # PWA 아이콘
├── 📊 database_*.json     # 기초 데이터
└── 🚀 START_APP.bat       # 실행 스크립트
```

## 🔗 **API 엔드포인트**

| 방법 | URL | 설명 |
|------|-----|------|
| GET | `/api/orders` | 주문 목록 조회 |
| POST | `/api/orders` | 새 주문 추가 |
| PUT | `/api/orders/{id}` | 주문 수정 |
| DELETE | `/api/orders/{id}` | 주문 삭제 |
| GET | `/api/statistics` | 통계 조회 |

## 📍 **저장 위치**

### **주문 데이터**
```
../MOBILE_LOG.json
```

### **백업 파일**
```
../backups/MOBILE_LOG_backup_YYYYMMDD_HHMMSS.json
```

## 🎮 **사용법**

### **1. 주문 입력**
1. 담당자 선택 → 판매처 자동 로드
2. 판매처 선택 → 도착지 자동 로드
3. 분류 선택 → 품목 자동 로드
4. 수량/단가 입력 → 총액 자동 계산
5. 도착일 선택
6. "저장" 버튼 클릭

### **2. 주문 목록 보기**
1. 하단 "목록보기" 탭 클릭
2. 담당자/날짜 필터 적용 가능
3. 주문 클릭으로 상세 정보 확인

### **3. 주문 수정**
1. 하단 "주문수정" 탭 클릭
2. 수정할 주문 선택
3. "수정하기" 버튼 클릭
4. 폼에서 수정 후 "저장"

### **4. 설정**
1. 상단 톱니바퀴 아이콘 클릭
2. 기본 담당자 설정
3. 통계 정보 확인
4. 데이터 내보내기

## ⚡ **실시간 기능**

- **즉시 저장**: 주문 입력 시 즉시 `MOBILE_LOG.json`에 저장
- **실시간 동기화**: 모든 사용자가 같은 데이터 확인
- **자동 백업**: 파일 변경 시마다 백업 생성
- **오류 복구**: 파일 손상 시 백업에서 복구

## 🔒 **보안 기능**

- **개별 수정 권한**: 본인 주문만 수정 가능 (설정된 경우)
- **삭제 확인**: 주문 삭제 시 재확인 요구
- **백업 보호**: 자동 백업으로 데이터 손실 방지
- **일괄 삭제 제한**: 보안상 서버 데이터 일괄 삭제 불가

## 📱 **모바일 최적화**

- **반응형 디자인**: 모든 화면 크기 지원
- **터치 친화적**: 큰 버튼과 쉬운 터치 인터페이스
- **PWA 설치**: 홈 화면에 앱 아이콘 추가
- **오프라인 지원**: 네트워크 없이도 기본 기능 사용

## 🛠️ **문제 해결**

### **서버가 시작되지 않는 경우**
```cmd
# Python 설치 확인
python --version

# 포트 충돌 시 다른 포트 자동 할당됨
```

### **데이터가 저장되지 않는 경우**
- `MOBILE_LOG.json` 파일 권한 확인
- 디스크 공간 확인
- 서버 콘솔 오류 메시지 확인

### **모바일에서 접속되지 않는 경우**
- PC와 모바일이 같은 Wi-Fi 네트워크에 연결되어 있는지 확인
- 방화벽 설정 확인
- 서버 실행 시 표시되는 네트워크 IP 주소 사용

## 📞 **기술 지원**

- **개발자**: IT 담당자
- **문의**: 내부 IT 지원팀
- **버전**: v1.0.0
- **최종 업데이트**: 2025-05-29

## 🎉 **성공적인 도입 효과**

✅ **오타 및 오기입 제거**: 드롭다운 선택으로 입력 오류 방지  
✅ **실시간 공유**: 모든 직원이 동일한 주문 정보 확인  
✅ **데이터 보안**: 자동 백업으로 데이터 손실 방지  
✅ **업무 효율성**: 카카오톡 → 웹앱 직접 입력으로 시간 단축  
✅ **모바일 친화적**: 외근 중에도 쉽고 빠른 주문 입력 